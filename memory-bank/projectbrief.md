# σ₁: Project Brief
*v1.0 | Created: 2024-12-19 | Updated: 2024-12-19*
*Π: DEVELOPMENT | Ω: RESEARCH*

## 🏆 Overview
Block Link Plus 是一个 Obsidian 插件，旨在增强块链接功能，特别是支持多行文本块的创建和自定义块 ID。该插件基于 copy-block-link 插件的功能，增加了多行块引用、时间章节、以及丰富的自定义选项。

## 📋 Requirements

### Core Features
- [R₁] **多行文本块支持**: 支持创建指向多行内容的块引用
  - 使用 heading 方式: `## ˅id` 格式
  - 批量块引用方式: 为每行创建独立块 ID
- [R₂] **块链接类型**: 支持三种链接类型
  - 常规链接: `[[file#^id]]`
  - 嵌入链接: `![[file#^id]]`
  - Obsidian URI: `obsidian://open?vault=...`
- [R₃] **自定义块 ID**: 前缀-随机字符格式，可配置前缀和长度(3-7)
- [R₄] **块链接别名**: 支持多种别名生成方式
  - 无别名(默认)
  - 首字符: 块内容前x个字符
  - 标题: 使用最近标题
  - 选中文本: 使用当前选中内容
- [R₅] **时间章节**: 插入时间戳作为标题，支持日记模式

### Technical Requirements
- [T₁] **平台兼容性**: 支持桌面和移动端 Obsidian
- [T₂] **最小版本要求**: Obsidian 0.15.0+
- [T₃] **TypeScript 开发**: 使用 TypeScript 4.7.4
- [T₄] **构建系统**: ESBuild 0.17.3
- [T₅] **代码质量**: ESLint + TypeScript 严格模式

### UI/UX Requirements
- [U₁] **多入口访问**: 右键菜单、命令面板、可配置菜单项
- [U₂] **视觉差异化**: 在阅读和预览模式下特殊渲染 `## ˅id` 标题
- [U₃] **用户反馈**: 可配置的复制通知
- [U₄] **设置界面**: 结构化设置面板，支持功能启用/禁用

## 🎯 Current Focus
项目已进入 **稳定维护阶段** (版本 1.3.0)，重点关注：
1. 代码重构和模块化
2. 新功能开发和现有功能优化
3. 用户反馈处理和 bug 修复
4. 文档和测试完善

## 📊 Success Criteria
- ✅ 完整支持多行文本块引用
- ✅ 三种链接类型完全实现
- ✅ 时间章节功能稳定运行
- ✅ 设置界面用户友好
- 🔄 代码结构模块化和可维护性
- 🔄 全面的测试覆盖
- 🔄 完善的错误处理机制 